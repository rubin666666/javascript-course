<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript –¢–µ—Å—Ç–µ—Ä</title>
    <link rel="stylesheet" href="../styles.css">
</head>
<body class="tester-body">
    <div class="container">
        <div class="header">
            <h1>üöÄ JavaScript –¢–µ—Å—Ç–µ—Ä</h1>
            <p>–í–≤–µ–¥—ñ—Ç—å –∫–æ–¥ JavaScript —ñ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å "–ó–∞–ø—É—Å—Ç–∏—Ç–∏" —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç</p>
        </div>

        <textarea id="codeInput" class="code-area" placeholder="–í–≤–µ–¥—ñ—Ç—å –≤–∞—à JavaScript –∫–æ–¥ —Ç—É—Ç...

// –ü—Ä–∏–∫–ª–∞–¥:
console.log('–ü—Ä–∏–≤—ñ—Ç, —Å–≤—ñ—Ç!');

let name = '–í–∞—à–µ —ñ–º\'—è';
console.log('–ú–µ–Ω–µ –∑–≤—É—Ç—å', name);

// –°–ø—Ä–æ–±—É–π—Ç–µ –∫–æ–¥ –∑ —É—Ä–æ–∫—ñ–≤!"></textarea>

        <div class="buttons">
            <button class="btn" onclick="runCode()">‚ñ∂Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –∫–æ–¥</button>
            <button class="btn clear" onclick="clearOutput()">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç–∏ –≤–∏–≤—ñ–¥</button>
            <button class="btn" onclick="clearAll()">üìù –û—á–∏—Å—Ç–∏—Ç–∏ –≤—Å–µ</button>
            <button class="btn" onclick="saveCode()">üíæ –ó–±–µ—Ä–µ–≥—Ç–∏ –∫–æ–¥</button>
            <button class="btn" onclick="loadCode()">üìÇ –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∫–æ–¥</button>
        </div>
        
        <div class="code-info">
            <span id="charCount">–°–∏–º–≤–æ–ª—ñ–≤: 0</span> |
            <span id="lineCount">–†—è–¥–∫—ñ–≤: 1</span> |
            <span>–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å Ctrl+Enter –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ –∑–∞–ø—É—Å–∫—É</span>
        </div>

        <h3>üì∫ –í–∏–≤—ñ–¥:</h3>
        <div id="output" class="output">–¢—É—Ç –∑'—è–≤–∏—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –≤–∞—à–æ–≥–æ –∫–æ–¥—É...</div>

        <div class="examples">
            <h3>üí° –ü—Ä–∏–∫–ª–∞–¥–∏ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è:</h3>
            
            <div class="example" onclick="loadExample(1)">
                <div class="example-title">1. –ó–º—ñ–Ω–Ω—ñ —Ç–∞ —Ç–∏–ø–∏ –¥–∞–Ω–∏—Ö</div>
                <div class="example-code">let name = "–ê–Ω–Ω–∞"; console.log(typeof name);</div>
            </div>
            
            <div class="example" onclick="loadExample(2)">
                <div class="example-title">2. –ê—Ä–∏—Ñ–º–µ—Ç–∏—á–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó</div>
                <div class="example-code">let a = 10, b = 3; console.log(a + b, a * b);</div>
            </div>
            
            <div class="example" onclick="loadExample(3)">
                <div class="example-title">3. –£–º–æ–≤–Ω—ñ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó</div>
                <div class="example-code">let age = 20; if(age >= 18) console.log("–î–æ—Ä–æ—Å–ª–∏–π");</div>
            </div>
            
            <div class="example" onclick="loadExample(4)">
                <div class="example-title">4. –¶–∏–∫–ª–∏</div>
                <div class="example-code">for(let i = 1; i <= 5; i++) console.log(i);</div>
            </div>
            
            <div class="example" onclick="loadExample(5)">
                <div class="example-title">5. –§—É–Ω–∫—Ü—ñ—ó</div>
                <div class="example-code">function greet(name) { return "–ü—Ä–∏–≤—ñ—Ç, " + name; }</div>
            </div>
            
            <div class="example" onclick="loadExample(6)">
                <div class="example-title">6. –ú–∞—Å–∏–≤–∏</div>
                <div class="example-code">let arr = [1,2,3]; console.log(arr.map(x => x*2));</div>
            </div>
            
            <div class="example" onclick="loadExample(7)">
                <div class="example-title">7. –û–±'—î–∫—Ç–∏</div>
                <div class="example-code">let user = {name: "–Ü–≤–∞–Ω", age: 25}; console.log(user.name);</div>
            </div>
        </div>
    </div>

    <script>
        let output = document.getElementById('output');
        let codeInput = document.getElementById('codeInput');
        
        // –ü–µ—Ä–µ—Ö–æ–ø–ª—é—î–º–æ console.log
        let originalLog = console.log;
        let originalError = console.error;
        let originalWarn = console.warn;
        
        function customLog(...args) {
            originalLog.apply(console, args);
            let text = args.map(arg => {
                if (typeof arg === 'object') {
                    return JSON.stringify(arg, null, 2);
                }
                return String(arg);
            }).join(' ');
            output.textContent += text + '\n';
            output.scrollTop = output.scrollHeight;
        }
        
        function customError(...args) {
            originalError.apply(console, args);
            let text = 'ERROR: ' + args.join(' ');
            output.textContent += text + '\n';
            output.scrollTop = output.scrollHeight;
        }
        
        function runCode() {
            const runBtn = document.querySelector('.btn');
            
            // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —á–∏ —î –∫–æ–¥
            if (!codeInput.value.trim()) {
                output.textContent += '‚ö†Ô∏è –í–≤–µ–¥—ñ—Ç—å –∫–æ–¥ –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è!\n';
                return;
            }
            
            // –î–æ–¥–∞—î–º–æ –∞–Ω—ñ–º–∞—Ü—ñ—é –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
            runBtn.classList.add('loading');
            runBtn.textContent = '‚è≥ –í–∏–∫–æ–Ω–∞–Ω–Ω—è...';
            
            setTimeout(() => {
                // –ü–µ—Ä–µ—Ö–æ–ø–ª—é—î–º–æ console –º–µ—Ç–æ–¥–∏
                console.log = customLog;
                console.error = customError;
                console.warn = customError;
                
                try {
                    // –î–æ–¥–∞—î–º–æ —Ä–æ–∑–¥—ñ–ª—é–≤–∞—á –∑ —á–∞—Å–æ–º
                    if (output.textContent && !output.textContent.endsWith('\n')) {
                        output.textContent += '\n';
                    }
                    output.textContent += `üöÄ –ó–∞–ø—É—Å–∫ –æ ${new Date().toLocaleTimeString()}\n`;
                    output.textContent += '‚îÄ'.repeat(40) + '\n';
                    
                    // –í–∏–∫–æ–Ω—É—î–º–æ –∫–æ–¥
                    eval(codeInput.value);
                    
                    // –Ø–∫—â–æ –Ω–µ–º–∞—î –≤–∏–≤–æ–¥—É, –ø–æ–∫–∞–∑—É—î–º–æ —É—Å–ø—ñ—Ö
                    const lines = output.textContent.split('\n');
                    if (lines.length <= 3) {
                        output.textContent += '‚úÖ –ö–æ–¥ –≤–∏–∫–æ–Ω–∞–Ω–æ —É—Å–ø—ñ—à–Ω–æ (–±–µ–∑ –≤–∏–≤–æ–¥—É)\n';
                    }
                    
                    output.textContent += '‚îÄ'.repeat(40) + '\n';
                    output.textContent += 'üèÅ –ó–∞–≤–µ—Ä—à–µ–Ω–æ\n\n';
                    
                } catch (error) {
                    output.textContent += `‚ùå –ü–û–ú–ò–õ–ö–ê: ${error.message}\n`;
                    output.textContent += `üí° –†—è–¥–æ–∫: ${error.lineNumber || '–Ω–µ–≤—ñ–¥–æ–º–æ'}\n`;
                    output.textContent += '‚îÄ'.repeat(40) + '\n';
                    output.textContent += 'üö´ –ó–∞–≤–µ—Ä—à–µ–Ω–æ –∑ –ø–æ–º–∏–ª–∫–æ—é\n\n';
                } finally {
                    // –í—ñ–¥–Ω–æ–≤–ª—é—î–º–æ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω—ñ –º–µ—Ç–æ–¥–∏
                    console.log = originalLog;
                    console.error = originalError;
                    console.warn = originalWarn;
                    
                    // –ü—Ä–∏–±–∏—Ä–∞—î–º–æ –∞–Ω—ñ–º–∞—Ü—ñ—é
                    runBtn.classList.remove('loading');
                    runBtn.textContent = '‚ñ∂Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –∫–æ–¥';
                }
            }, 100);
        }
        
        function clearOutput() {
            output.textContent = '';
        }
        
        function clearAll() {
            output.textContent = '';
            codeInput.value = '';
        }
        
        function loadExample(num) {
            const examples = {
                1: `// –£—Ä–æ–∫ 1: –ó–º—ñ–Ω–Ω—ñ —Ç–∞ —Ç–∏–ø–∏ –¥–∞–Ω–∏—Ö
let name = "–ê–Ω–Ω–∞";
let age = 25;
let isStudent = true;
let hobbies = ["—á–∏—Ç–∞–Ω–Ω—è", "—Å–ø–æ—Ä—Ç", "–º—É–∑–∏–∫–∞"];

console.log("–Ü–º'—è:", name);
console.log("–í—ñ–∫:", age);
console.log("–°—Ç—É–¥–µ–Ω—Ç:", isStudent);
console.log("–•–æ–±—ñ:", hobbies);
console.log("–¢–∏–ø —ñ–º–µ–Ω—ñ:", typeof name);`,

                2: `// –£—Ä–æ–∫ 2: –û–ø–µ—Ä–∞—Ç–æ—Ä–∏
let a = 10;
let b = 3;

console.log("a + b =", a + b);
console.log("a - b =", a - b);
console.log("a * b =", a * b);
console.log("a / b =", a / b);
console.log("a % b =", a % b);

console.log("a > b:", a > b);
console.log("a === 10:", a === 10);`,

                3: `// –£—Ä–æ–∫ 3: –£–º–æ–≤–Ω—ñ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó
let temperature = 25;

if (temperature > 30) {
    console.log("–î—É–∂–µ —Å–ø–µ–∫–æ—Ç–Ω–æ! üî•");
} else if (temperature > 20) {
    console.log("–ü—Ä–∏—î–º–Ω–∞ –ø–æ–≥–æ–¥–∞! ‚òÄÔ∏è");
} else {
    console.log("–ü—Ä–æ—Ö–æ–ª–æ–¥–Ω–æ üå§Ô∏è");
}

let day = "–ø–æ–Ω–µ–¥—ñ–ª–æ–∫";
switch (day) {
    case "–ø–æ–Ω–µ–¥—ñ–ª–æ–∫":
        console.log("–ü–æ—á–∞—Ç–æ–∫ —Ç–∏–∂–Ω—è üò¥");
        break;
    case "–ø'—è—Ç–Ω–∏—Ü—è":
        console.log("–ú–∞–π–∂–µ –≤–∏—Ö—ñ–¥–Ω—ñ! üéâ");
        break;
    default:
        console.log("–ó–≤–∏—á–∞–π–Ω–∏–π –¥–µ–Ω—å");
}`,

                4: `// –£—Ä–æ–∫ 4: –¶–∏–∫–ª–∏
console.log("–ß–∏—Å–ª–∞ –≤—ñ–¥ 1 –¥–æ 5:");
for (let i = 1; i <= 5; i++) {
    console.log(i);
}

console.log("–§—Ä—É–∫—Ç–∏:");
let fruits = ["—è–±–ª—É–∫–æ", "–±–∞–Ω–∞–Ω", "–∞–ø–µ–ª—å—Å–∏–Ω"];
for (let fruit of fruits) {
    console.log("üçé", fruit);
}`,

                5: `// –£—Ä–æ–∫ 5: –§—É–Ω–∫—Ü—ñ—ó
function greet(name) {
    return "–ü—Ä–∏–≤—ñ—Ç, " + name + "!";
}

const multiply = (a, b) => a * b;

console.log(greet("–ê–Ω–Ω–∞"));
console.log("5 * 3 =", multiply(5, 3));

// –§—É–Ω–∫—Ü—ñ—è –∑ callback
function processArray(arr, callback) {
    return arr.map(callback);
}

let numbers = [1, 2, 3, 4];
let doubled = processArray(numbers, x => x * 2);
console.log("–ü–æ–¥–≤–æ—î–Ω—ñ —á–∏—Å–ª–∞:", doubled);`,

                6: `// –£—Ä–æ–∫ 6: –ú–∞—Å–∏–≤–∏
let numbers = [1, 2, 3, 4, 5];

// map - –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è
let doubled = numbers.map(x => x * 2);
console.log("–ü–æ–¥–≤–æ—î–Ω—ñ:", doubled);

// filter - —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è
let evenNumbers = numbers.filter(x => x % 2 === 0);
console.log("–ü–∞—Ä–Ω—ñ:", evenNumbers);

// reduce - –∑–≤–µ–¥–µ–Ω–Ω—è
let sum = numbers.reduce((total, num) => total + num, 0);
console.log("–°—É–º–∞:", sum);

// –†–æ–±–æ—Ç–∞ –∑ –æ–±'—î–∫—Ç–∞–º–∏ –≤ –º–∞—Å–∏–≤—ñ
let students = [
    {name: "–ê–Ω–Ω–∞", grade: 95},
    {name: "–ü–µ—Ç—Ä–æ", grade: 87}
];

let names = students.map(s => s.name);
console.log("–Ü–º–µ–Ω–∞:", names);`,

                7: `// –£—Ä–æ–∫ 7: –û–±'—î–∫—Ç–∏
let person = {
    name: "–Ü–≤–∞–Ω",
    age: 28,
    city: "–ö–∏—ó–≤",
    greet: function() {
        return "–ü—Ä–∏–≤—ñ—Ç, –º–µ–Ω–µ –∑–≤—É—Ç—å " + this.name;
    }
};

console.log("–Ü–º'—è:", person.name);
console.log("–í—ñ–∫:", person["age"]);
console.log(person.greet());

// –î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü—ñ—è
let {name, age} = person;
console.log("–î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü—ñ—è:", name, age);

// Object –º–µ—Ç–æ–¥–∏
console.log("–ö–ª—é—á—ñ:", Object.keys(person));
console.log("–ó–Ω–∞—á–µ–Ω–Ω—è:", Object.values(person));`
            };
            
            codeInput.value = examples[num] || '';
        }
        
        // –õ—ñ—á–∏–ª—å–Ω–∏–∫–∏ —Å–∏–º–≤–æ–ª—ñ–≤ —Ç–∞ —Ä—è–¥–∫—ñ–≤
        function updateCounts() {
            const text = codeInput.value;
            document.getElementById('charCount').textContent = `–°–∏–º–≤–æ–ª—ñ–≤: ${text.length}`;
            document.getElementById('lineCount').textContent = `–†—è–¥–∫—ñ–≤: ${text.split('\n').length}`;
        }
        
        // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –ª—ñ—á–∏–ª—å–Ω–∏–∫—ñ–≤ –ø—Ä–∏ –≤–≤–æ–¥—ñ
        codeInput.addEventListener('input', updateCounts);
        codeInput.addEventListener('keydown', function(e) {
            // Ctrl+Enter –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ –∑–∞–ø—É—Å–∫—É
            if (e.ctrlKey && e.key === 'Enter') {
                e.preventDefault();
                runCode();
            }
            // Tab –¥–ª—è –≤—ñ–¥—Å—Ç—É–ø—ñ–≤
            if (e.key === 'Tab') {
                e.preventDefault();
                const start = this.selectionStart;
                const end = this.selectionEnd;
                this.value = this.value.substring(0, start) + '    ' + this.value.substring(end);
                this.selectionStart = this.selectionEnd = start + 4;
            }
        });
        
        // –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∫–æ–¥—É –≤ localStorage
        function saveCode() {
            localStorage.setItem('js-tester-code', codeInput.value);
            output.textContent += 'üíæ –ö–æ–¥ –∑–±–µ—Ä–µ–∂–µ–Ω–æ!\n';
            output.scrollTop = output.scrollHeight;
        }
        
        // –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–æ–¥—É –∑ localStorage
        function loadCode() {
            const savedCode = localStorage.getItem('js-tester-code');
            if (savedCode) {
                codeInput.value = savedCode;
                updateCounts();
                output.textContent += 'üìÇ –ö–æ–¥ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ!\n';
                output.scrollTop = output.scrollHeight;
            } else {
                output.textContent += '‚ùå –ù–µ–º–∞—î –∑–±–µ—Ä–µ–∂–µ–Ω–æ–≥–æ –∫–æ–¥—É!\n';
                output.scrollTop = output.scrollHeight;
            }
        }
        
        // –ê–≤—Ç–æ–∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∫–æ–¥—É –∫–æ–∂–Ω—ñ 30 —Å–µ–∫—É–Ω–¥
        setInterval(() => {
            if (codeInput.value.trim()) {
                localStorage.setItem('js-tester-auto-save', codeInput.value);
            }
        }, 30000);
        
        // –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∞–≤—Ç–æ–∑–±–µ—Ä–µ–∂–µ–Ω–æ–≥–æ –∫–æ–¥—É –ø—Ä–∏ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—ñ
        window.addEventListener('load', () => {
            const autoSaved = localStorage.getItem('js-tester-auto-save');
            if (autoSaved && !codeInput.value.trim()) {
                codeInput.value = autoSaved;
                updateCounts();
            }
        });
        
        // –ü—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è
        console.log('üöÄ JavaScript –¢–µ—Å—Ç–µ—Ä –≥–æ—Ç–æ–≤–∏–π –¥–æ —Ä–æ–±–æ—Ç–∏!');
        console.log('üí° –í–≤–µ–¥—ñ—Ç—å –∫–æ–¥ –≤–∏—â–µ —ñ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å "–ó–∞–ø—É—Å—Ç–∏—Ç–∏"');
        console.log('‚ö° Hotkeys: Ctrl+Enter - –∑–∞–ø—É—Å–∫, Tab - –≤—ñ–¥—Å—Ç—É–ø');
        
        // –ü–æ—á–∞—Ç–∫–æ–≤–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ª—ñ—á–∏–ª—å–Ω–∏–∫—ñ–≤
        updateCounts();
    </script>
</body>
</html>